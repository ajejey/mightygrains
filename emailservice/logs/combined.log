{"level":"info","message":"Sending order confirmation email:\n      To: mightygrains656@gmail.com\n      CC: mightygrains656@gmail.com\n      Order ID: TEST-8wb1l8mk1","service":"email-service","timestamp":"2024-12-13T10:31:07.587Z"}
{"accepted":["mightygrains656@gmail.com"],"level":"info","message":"Email sent details:","messageId":"<e477cfda-6127-e946-8822-fc3be5a3afff@gmail.com>","rejected":[],"service":"email-service","timestamp":"2024-12-13T10:31:10.495Z"}
{"level":"info","message":"Password reset email sent to mightygrains656@gmail.com","service":"email-service","timestamp":"2024-12-13T10:31:13.094Z"}
{"level":"info","message":"Generic email sent to mightygrains656@gmail.com","service":"email-service","timestamp":"2024-12-13T10:31:15.478Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T10:34:50.286Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T10:43:08.862Z"}
{"level":"error","message":"invalid signature","name":"JsonWebTokenError","service":"email-service","stack":"JsonWebTokenError: invalid signature\n    at F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\jsonwebtoken\\verify.js:171:19\n    at getSecret (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\jsonwebtoken\\verify.js:97:14)\n    at module.exports [as verify] (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\jsonwebtoken\\verify.js:101:10)\n    at verifyToken (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\routes\\emailRoutes.js:18:7)\n    at Layer.handle [as handle_request] (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\index.js:284:15\n    at Function.process_params (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\index.js:346:12)","timestamp":"2024-12-13T10:53:43.082Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T10:54:56.775Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T10:56:10.018Z"}
{"0":"S","1":"e","10":"s","11":"e","12":"t","2":"c","3":"r","4":"e","5":"t","6":" ","7":"i","8":"s","9":" ","level":"info","message":"Verifying token with secret:","service":"email-service","timestamp":"2024-12-13T10:57:35.938Z"}
{"level":"info","message":"Token decoded successfully:","service":"mighty-grains-order-confirmation","timestamp":1734087455410}
{"level":"error","message":"Error sending order confirmation email: Cannot read properties of undefined (reading 'map')","service":"email-service","stack":"TypeError: Cannot read properties of undefined (reading 'map')\n    at sendOrderConfirmationEmail (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\services\\emailService.js:24:49)\n    at F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\routes\\emailRoutes.js:72:11\n    at Layer.handle [as handle_request] (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at verifyToken (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\routes\\emailRoutes.js:35:5)\n    at Layer.handle [as handle_request] (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\route.js:149:13)\n    at Route.dispatch (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\route.js:119:3)\n    at Layer.handle [as handle_request] (F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at F:\\Web Dev Projects\\mighty-grains-nextjs\\emailservice\\node_modules\\express\\lib\\router\\index.js:284:15","timestamp":"2024-12-13T10:57:35.963Z"}
{"level":"info","message":"Order confirmation email sent to ajejey@gmail.com","service":"email-service","timestamp":"2024-12-13T10:57:35.965Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T10:59:41.377Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T11:00:07.017Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T11:00:35.499Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T11:05:48.469Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T11:06:17.108Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T11:06:22.035Z"}
{"level":"info","message":"Email service running on port 5000","service":"email-service","timestamp":"2024-12-13T11:06:25.674Z"}
{"email":"a***y@gmail.com","level":"info","message":"Received order confirmation request","orderId":"675c157e6db971504f67fe45","service":"email-service","timestamp":"2024-12-13T11:08:20.043Z","totalItems":1}
{"level":"info","message":"Preparing order confirmation email for ajejey@gmail.com","orderId":"675c157e6db971504f67fe45","service":"email-service","timestamp":"2024-12-13T11:08:20.043Z","totalItems":1}
{"accepted":["ajejey@gmail.com","mightygrains656@gmail.com"],"level":"info","message":"Email sent details:","messageId":"<5fdfeaa9-38d1-d9b4-089b-e484bfb4ab3e@gmail.com>","rejected":[],"service":"email-service","timestamp":"2024-12-13T11:08:22.535Z"}
